<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.spring.domain.attendance.mapper.AttMapper">
    <select id="getEmployeeAttendance" resultType="org.spring.domain.attendance.model.AttendanceEntity">
        SELECT 
            a.input_date,
            e.employment_type,
            e.korean_name,
            e.department_id,
            e.position_id,
            a.attendance_type_id,
            a.start_date,
            a.end_date,
            a.attendance_days,
            a.amount,
            a.summary
        FROM 
            employee e
        JOIN 
            attendance a ON e.employee_id = a.employee_id;
    </select>
	
	<select id="getDayWorkerList" resultType="org.spring.domain.employee.model.EmployeeEntity">
		SELECT * FROM employee
		<where>
		<if test="value != null and value != ''"> 
			employment_type = '일용직' 
			AND employee_id LIKE '%' || #{srchKwrd} || '%' 
			OR korean_name LIKE '%' || #{srchKwrd} || '%' 
			OR department_id LIKE '%' || #{srchKwrd} || '%' 
		</if>
		</where>
		ORDER BY employee_id DESC
	</select>
	
	 <select id="selectAttendanceGroup" resultType="org.spring.domain.attendance.model.AttendanceGroupEntity">
        SELECT * FROM attendance_group
    </select>
	
</mapper>
